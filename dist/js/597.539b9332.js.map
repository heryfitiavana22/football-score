{"version":3,"file":"js/597.539b9332.js","mappings":"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","sources":["webpack://Football score/./src/js/func/displayMatchByDate.js","webpack://Football score/./src/js/func/filterByDate.js","webpack://Football score/./src/js/infoLeague/infoLeague.js","webpack://Football score/./src/js/func/getScorer.js","webpack://Football score/./src/js/infoLeague/displayLeague.js","webpack://Football score/./src/js/infoLeague/displayScorer.js","webpack://Football score/./src/js/league/listLeague.js"],"sourcesContent":["import infoMatch from '../infoMatch/infoMatch'\n\nexport default (game, idHTML) => {\n    // console.log(idHTML);\n    // console.log(game);\n    let listGameHTML =\n    `<div class=\"listMatch\">`;\n    if(game.length === 0)\n        listGameHTML +=  `<p style=\"padding-left:15px\">to wait or no match</p>`\n    for(let date of game) {\n        listGameHTML +=\n        `<div class=\"matchs\">\n            <h3>${date.date}</h3>\n            <ul class=\"list-match\">`;\n            for(let match of date.game) {\n                // live match\n                if(match.match_live === '1') \n                listGameHTML += \n                `<li class=\"live\" id=\"${match.match_id}\">\n                    <span class=\"hour-match\" id=\"${match.match_id}\">${isNaN(match.match_status) ? match.match_status : ((match.match_status + ' min'))}</span>`;\n                // match mbola tsy nandeha; finished game and postponed\n                else \n                listGameHTML += \n                `<li id=\"${match.match_id}\">\n                    <span class=\"hour-match\" id=\"${match.match_id}\">${(match.match_status === 'Postponed') ? 'postponed' : match.match_time}</span>`\n                listGameHTML += \n                    `<div class=\"match-item\" id=\"${match.match_id}\">\n                        <div class=\"home\" id=\"${match.match_id}\">\n                            <span id=\"${match.match_id}\">${match.match_hometeam_name}</span>\n                            <img src=\"${match.team_home_badge || 'assets/img/logo2.png'}\" alt=\"icon-team\" id=\"${match.match_id}\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                            <span class=\"score-home score\" id=\"${match.match_id}\">${(match.match_hometeam_score.length > 0) ? match.match_hometeam_score : '  '}</span> \n                        </div>\n                        <span class=\"vs\" id=\"${match.match_id}\">vs</span>\n                        <div class=\"away\" id=\"${match.match_id}\">\n                            <span class=\"away-home score\" id=\"${match.match_id}\">${(match.match_awayteam_score.length > 0) ? match.match_awayteam_score : '  '}</span>\n                            <img src=\"${match.team_away_badge || 'assets/img/logo2.png'}\" alt=\"icon-team\" id=\"${match.match_id}\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                            <span id=\"${match.match_id}\">${match.match_awayteam_name}</span>\n                        </div>\n                    </div>\n                </li>`;\n            }\n            `</ul>\n        </div>`\n    }\n    listGameHTML +=\n    `</div>`;\n    document.querySelector('.current-item').innerHTML = listGameHTML\n    document.querySelector('.nav-info .active').classList.remove('active')\n    document.querySelector('#'+idHTML).classList.add('active')\n    /* onclick match */\n    document.querySelector('.listMatch').addEventListener('click', (e) => {\n        let id = e.target.id\n        if(isNaN(id) || id === '') \n            return; // au cas ou tsy nombre\n        infoMatch(false, id)\n    })\n    return idHTML;\n};\n","export default (game, type) => {\n    let result = [],\n        listDate = [];\n    for (let element of game) {\n        // raha mbola tsy ao le date\n        if (!listDate.includes(element.match_date)) {\n            result.push({\n                date: element.match_date,\n                game: game.filter((g) => g.match_date === element.match_date), // ireo match amnio date io\n            });\n            listDate.push(element.match_date);\n        }\n    }\n    if (type === \"ASC\")\n        result.sort((a, b) => new Date(a.date) - new Date(b.date));\n    else result.sort((a, b) => new Date(b.date) - new Date(a.date));\n    return result;\n};\n","import getStanding from \"../func/getStanding\";\nimport getScorer from \"../func/getScorer\";\nimport getMatch from \"../func/getMatch\";\nimport displayLeague from \"./displayLeague\";\nimport displayMatch from \"../func/displayMatchByDate\";\nimport displayScorer from \"./displayScorer\";\nimport { endSeason, startSeason } from \"../func/date\";\nimport displayStanding from \"../func/displayStanding\";\nimport { getLeagues } from \"../league/listLeague\";\nimport filterByDate from \"../func/filterByDate\";\nimport { loading, stopLoading } from \"../others/animation\";\nimport addHistory from \"../history/addHistory\";\nimport pageNotFound from \"../404\";\n\nlet intervalUpdate = undefined,\n    currentDisplay = undefined;\nexport default async (isPopState, idLeague) => {\n    window.scroll(0,0)\n    loading();\n    // addHistory (rehefa popstate de tsy mila mi-ajouter)\n    if (!isPopState) addHistory(`league/${idLeague}`);\n    idLeague = idLeague.slice(1); // asoriko ilay \"l\"\n    let calendar = [],\n        result = [],\n        standing = [],\n        scorer = [];\n    getScorer(idLeague).then((value) => (scorer = value));\n    getMatch(startSeason(), new Date(), idLeague).then((value) => {\n        result = filterByDate(value);\n        result.shift(); // shift satria lasa voaray ao le date androany\n    });\n    getMatch(new Date(), endSeason(), idLeague).then(\n        (value) => (calendar = filterByDate(value, \"ASC\"))\n    );\n    // getStanding league\n    standing = await getStanding(idLeague);\n    let league = getLeagues().filter((e) => e.league_id == idLeague);\n    if (league.length === 0)\n        // tsy misy io league io\n        return pageNotFound(\"league not found\");\n    league = league[0];\n    // afficher la ligue\n    displayLeague(league);\n    currentDisplay = displayStanding(standing);\n\n    /* event onclick */\n    document.querySelector(\".nav-league\").addEventListener(\"click\", (e) => {\n        let id = e.target.id;\n        if (id === \"result\") currentDisplay = displayMatch(result, \"result\");\n        else if (id === \"standing\") currentDisplay = displayStanding(standing);\n        else if (id === \"scorer\") currentDisplay = displayScorer(scorer);\n        else currentDisplay = displayMatch(calendar, \"calendar\");\n    });\n\n    // asorina ny league active raha misy\n    let activeLeague = document.querySelector('.list-league li.active');\n    if(activeLeague) activeLeague.classList.remove('active')\n    \n    stopLoading();\n    intervalUpdate = setInterval(async () => {\n        if (currentDisplay === \"calendar\") {\n            // affiche-na aloha sao taraiky le resultat teo aloha\n            currentDisplay = displayMatch(calendar, \"calendar\");\n            // maka vaovao\n            calendar = await getMatch(new Date(), endSeason(), idLeague);\n            calendar = filterByDate(calendar, \"ASC\");\n            // sao novainy tampoka nefa taraiky vao azo\n            if (currentDisplay === \"calendar\")\n                currentDisplay = displayMatch(calendar, \"calendar\");\n        } else if (currentDisplay === \"result\") {\n            // affiche-na aloha sao taraiky le resultat teo aloha\n            currentDisplay = displayMatch(result, \"result\");\n            // maka vaovao\n            result = await getMatch(startSeason(), new Date(), idLeague);\n            result = filterByDate(result);\n            result.shift(); // shift satria lasa voaray ao le date androany;\n            // sao novainy tampoka nefa taraiky vao azo\n            if (currentDisplay === \"result\")\n                currentDisplay = displayMatch(result, \"result\");\n        }\n    }, 55000) // tous les une minute  (alatsako kely amle mbola alaina)\n};\n\nexport function clearIntervalInfoLeague() {\n    clearInterval(intervalUpdate)\n}","let apiKey = process.env.API_KEY;\nexport default async (idLeague) => {\n    return await new Promise((resolve, reject) => {\n        let url = `https://apiv3.apifootball.com/?action=get_topscorers&league_id=${idLeague}&APIkey=${apiKey}`;\n        fetch(url, {method : 'get'})\n        .then(response => response.json())\n        .then((value) => {\n            // console.log('get_topscorers');\n            // console.log(value);\n            resolve(value.error ? [] : value)\n        })\n    })\n}","export default (league) => {\n    let currentElement = document.querySelector('.current-element');\n    let infoLeague =\n    `<div class=\"info-league info\">\n        <div class=\"country-league\">\n            <div class=\"country\">\n                <img src=\"${league.country_logo}\" alt=\"icon-country\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                <span>${league.country_name}</span>\n            </div>\n            <div class=\"league\">\n                <img src=\"${league.league_logo}\" alt=\"icon-league\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                <div>\n                    <span class=\"name\">${league.league_name}</span>\n                    <span class=\"season\">${league.league_season}</span>\n                </div>\n            </div>\n        </div>\n        <ul class=\"nav-league nav-info\">\n            <li class=\"active\" id=\"standing\">Standing</li> \n            <li id=\"calendar\">Calendar</li>\n            <li id=\"result\">Results</li>\n            <li id=\"scorer\">Scorer</li> \n        </ul>\n        <div class=\"current-item\">\n            \n        </div>\n    </div>`;\n    currentElement.innerHTML = infoLeague;\n    let iconCalendar = document.querySelector('#icon-toggle-calendar')\n    if(iconCalendar) iconCalendar.style.visibility = 'hidden' \n}","export default (scorer) => {\n    let scorerHTML =\n    `<table class=\"standing-container top-scorer\">\n        <tr class=\"head-table\">\n            <td class=\"player-td\">Player</td>\n            <td class=\"team-player\">Team</td>\n            <td>Goals</td>\n            <td>Assists</td>\n            <td>Penalty </td>\n        </tr>`;\n    for(let player of scorer) {\n        scorerHTML += \n        `<tr class=\"item-container\">\n            <td class=\"player-td\">\n                <span class=\"number\">${player.player_place}</span>\n                <span class=\"name\">${player.player_name}</span>\n            </td>\n            <td class=\"team-player\">\n                <span class=\"name\">${player.team_name}</span>\n            </td>\n            <td>${player.goals} <span class=\"caption-td\">goals<span></td>\n            <td>${player.assists ? player.assists : 0} <span class=\"caption-td\">assists<span></td>\n            <td>${player.penalty_goals ? player.penalty_goals : 0} <span class=\"caption-td\">penalty<span></td>\n        </tr>`    \n    }\n    scorerHTML +=\n    `</table>`\n    document.querySelector('.current-item').innerHTML = scorerHTML\n    document.querySelector('.info-league .active').classList.remove('active')\n    document.querySelector('.info-league #scorer').classList.add('active')\n    return \"scorer\"\n}","import {getListCountry, getListLeague} from '../others/contryAndLeague'\nimport {getExceptionLeague, getPopularLeague} from '../others/popularAndException'\n\nlet APIkey = process.env.API_KEY;\nlet listContainer = document.querySelector('.list-league'),\n    url = `https://apiv3.apifootball.com/?action=get_leagues&APIkey=${APIkey}`,\n    listCountry = getListCountry(),\n    listLeague = getListLeague();\nlistCountry = listCountry.split(',');\nlistLeague = listLeague.split(',')\n\nlet list = [];\nexport default async () => {\n    fetch(url, {\n        method : 'get'\n    })\n        .then(response => response.json())\n        .then((value) => {\n            // izay ao anaty liste iany no raisina\n            list = value\n                    .filter(e => listCountry.includes(e.country_name) && listLeague.includes(e.league_name));\n            let leagueId = list.map(e => e.league_id)\n            // console.log('listleague');\n            // console.log(list);\n            // popular league and exception league\n            let popularLeague = getPopularLeague(leagueId),\n                exceptionLeague = getExceptionLeague(leagueId),\n                currentNumber = 1;\n            // console.log('popularLeague listleague');\n            // console.log(popularLeague);\n            // correct league logo\n            for(let element of exceptionLeague) {\n                list[element.index].league_logo = element.photo\n            }\n            // atao any amin farany ambony ireo ligue populaire\n            // omena numero voalohany ireo league popular\n            for(let element of popularLeague) {\n                list[element.index].number =  currentNumber\n                list[element.index].league_logo = element.photo\n                currentNumber++\n            }\n            // omena numero ireo league mbola tsy nahazo\n            for(let element of list) {\n                if(!element.number) {\n                    element.number =  currentNumber\n                    currentNumber++\n                }\n            }\n            // trier-na selon ny nom ana league aloha\n            list.sort((a,b) => a.league_name - b.league_name)\n            // trier-na selon ny numero anle league\n            list.sort((a,b) => a.number - b.number)\n\n            // display list league `<li class=\"list-item\" onclick=\"getLeagueMatch(${e.league_id})\">\n            let listItem = ``;\n            for(let e of list) {\n                listItem += \n                `<li class=\"list-item kk${e.league_id}\" id=\"${e.league_id}\" onclick=\"league.getLeagueMatch(${e.league_id}, this)\">\n                    <img src=\"${e.league_logo}\" alt=\"icon-league\" id=\"${e.league_id}\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                    <span id=\"${e.league_id}\">${e.league_name}\n                        <span class=\"line-list\" id=\"${e.league_id}\"></span>\n                    </span>\n                </li>`;\n            }\n            listContainer.innerHTML = listItem\n        })\n        .catch(err => console.log(err))\n}\n\nexport function getLeagues() {\n    return list;\n}"],"names":["game","idHTML","listGameHTML","length","date","match","match_live","match_id","isNaN","match_status","match_time","match_hometeam_name","team_home_badge","match_hometeam_score","match_awayteam_score","team_away_badge","match_awayteam_name","document","querySelector","innerHTML","classList","remove","add","addEventListener","e","id","target","type","result","listDate","element","includes","match_date","push","filter","g","sort","a","b","Date","intervalUpdate","currentDisplay","isPopState","idLeague","window","scroll","addHistory","slice","calendar","standing","scorer","Promise","resolve","reject","fetch","method","then","response","json","value","error","getScorer","getMatch","filterByDate","shift","getStanding","league","getLeagues","league_id","currentElement","infoLeague","country_logo","country_name","league_logo","league_name","league_season","iconCalendar","style","visibility","displayLeague","displayStanding","scorerHTML","player","player_place","player_name","team_name","goals","assists","penalty_goals","displayScorer","activeLeague","setInterval","async","clearIntervalInfoLeague","clearInterval","listContainer","listCountry","listLeague","split","list","leagueId","map","popularLeague","exceptionLeague","currentNumber","index","photo","number","listItem","catch","err","console","log"],"sourceRoot":""}