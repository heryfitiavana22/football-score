{"version":3,"file":"js/src_js_infoLeague_infoLeague_js.bundle.js","mappings":";;;;;;;;;;;;;;AAA8C;;AAE9C,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,UAAU;AAC5B;AACA;AACA;AACA;AACA;AACA,wCAAwC,eAAe;AACvD,mDAAmD,eAAe,IAAI,iFAAiF;AACvJ,4CAA4C;AAC5C;AACA;AACA,2BAA2B,eAAe;AAC1C,mDAAmD,eAAe,IAAI,sEAAsE;AAC5I;AACA,mDAAmD,eAAe;AAClE,gDAAgD,eAAe;AAC/D,2CAA2C,4EAA4E,QAAQ,eAAe,IAAI,0BAA0B;AAC5K,wCAAwC,gDAAgD,wBAAwB,eAAe;AAC/H,iEAAiE,eAAe,IAAI,4EAA4E;AAChK;AACA,+CAA+C,eAAe;AAC9D,gDAAgD,eAAe;AAC/D,gEAAgE,eAAe,IAAI,4EAA4E;AAC/J,wCAAwC,gDAAgD,wBAAwB,eAAe;AAC/H,2CAA2C,4EAA4E,QAAQ,eAAe,IAAI,0BAA0B;AAC5K;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,QAAQ,gEAAS;AACjB,KAAK;AACL;AACA,CAAC,EAAC;;;;;;;;;;;;;;;ACzDF,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB,GAAG,eAAe,GAAG,YAAY;AACxF;AACA;AACA;AACA;AACA,CAAC,EAAC;;;;;;;;;;;;;;;ACxBF,aAAa,kEAAmB;AAChC,iEAAe;AACf;AACA,oFAAoF,SAAS,UAAU,OAAO;AAC9G,oBAAoB,eAAe;AACnC;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;;;;;;;;;;;;;;ACZA,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD,wBAAwB,oBAAoB;AAC5C;AACA;AACA,4BAA4B,mBAAmB;AAC/C;AACA,yCAAyC,mBAAmB;AAC5D,2CAA2C,qBAAqB;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9BA,iEAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D,qCAAqC,mBAAmB;AACxD;AACA;AACA,qCAAqC,iBAAiB;AACtD;AACA,kBAAkB,cAAc;AAChC,kBAAkB,qCAAqC;AACvD,kBAAkB,iDAAiD;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/B8C;AACJ;AACF;AACI;AACU;AACV;AACU;AACA;AACJ;AACF;AACW;AACZ;AACb;;AAElC;AACA;AACA,iEAAe;AACf;AACA,IAAI,4DAAO;AACX;AACA,qBAAqB,gEAAU,WAAW,SAAS;AACnD,kCAAkC;AAClC;AACA;AACA;AACA;AACA,IAAI,2DAAS;AACb,IAAI,0DAAQ,CAAC,uDAAW;AACxB,iBAAiB,8DAAY;AAC7B,KAAK;AACL,IAAI,0DAAQ,aAAa,qDAAS;AAClC,+BAA+B,8DAAY;AAC3C;AACA;AACA,qBAAqB,6DAAW;AAChC,iBAAiB,8DAAU;AAC3B;AACA;AACA,eAAe,iDAAY;AAC3B;AACA;AACA,IAAI,0DAAa;AACjB,qBAAqB,iEAAe;;AAEpC;AACA;AACA;AACA,8CAA8C,oEAAY;AAC1D,qDAAqD,iEAAe;AACpE,mDAAmD,0DAAa;AAChE,8BAA8B,oEAAY;AAC1C,KAAK;;AAEL;AACA;AACA;AACA;AACA,IAAI,gEAAW;AACf;AACA;AACA;AACA,6BAA6B,oEAAY;AACzC;AACA,6BAA6B,0DAAQ,aAAa,qDAAS;AAC3D,uBAAuB,8DAAY;AACnC;AACA;AACA,iCAAiC,oEAAY;AAC7C,UAAU;AACV;AACA,6BAA6B,oEAAY;AACzC;AACA,2BAA2B,0DAAQ,CAAC,uDAAW;AAC/C,qBAAqB,8DAAY;AACjC;AACA;AACA,iCAAiC,oEAAY;AAC7C;AACA,KAAK;AACL,CAAC,EAAC;;AAEK;AACP;AACA;AACA;;;;;;;;;;;;;;;;;ACpFuE;AACW;;AAElF,aAAa,kEAAmB;AAChC;AACA,sEAAsE,OAAO;AAC7E,kBAAkB,uEAAc;AAChC,iBAAiB,sEAAa;AAC9B;AACA;;AAEA;AACA,iEAAe;AACf;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,6EAAgB;AAChD,kCAAkC,+EAAkB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oFAAoF,YAAY;AAChG;AACA;AACA;AACA,0CAA0C,YAAY,QAAQ,YAAY,mCAAmC,YAAY;AACzH,gCAAgC,cAAc,0BAA0B,YAAY;AACpF,gCAAgC,YAAY,IAAI;AAChD,sDAAsD,YAAY;AAClE;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,CAAC;;AAEM;AACP;AACA","sources":["webpack://Football score/./src/js/func/displayMatchByDate.js","webpack://Football score/./src/js/func/filterByDate.js","webpack://Football score/./src/js/func/getScorer.js","webpack://Football score/./src/js/infoLeague/displayLeague.js","webpack://Football score/./src/js/infoLeague/displayScorer.js","webpack://Football score/./src/js/infoLeague/infoLeague.js","webpack://Football score/./src/js/league/listLeague.js"],"sourcesContent":["import infoMatch from '../infoMatch/infoMatch'\n\nexport default (game, idHTML) => {\n    // console.log(idHTML);\n    // console.log(game);\n    let listGameHTML =\n    `<div class=\"listMatch\">`;\n    if(game.length === 0)\n        listGameHTML +=  `<p style=\"padding-left:15px\">to wait or no match</p>`\n    for(let date of game) {\n        listGameHTML +=\n        `<div class=\"matchs\">\n            <h3>${date.date}</h3>\n            <ul class=\"list-match\">`;\n            for(let match of date.game) {\n                // live match\n                if(match.match_live === '1') \n                listGameHTML += \n                `<li class=\"live\" id=\"${match.match_id}\">\n                    <span class=\"hour-match\" id=\"${match.match_id}\">${isNaN(match.match_status) ? match.match_status : ((match.match_status + ' min'))}</span>`;\n                // match mbola tsy nandeha; finished game and postponed\n                else \n                listGameHTML += \n                `<li id=\"${match.match_id}\">\n                    <span class=\"hour-match\" id=\"${match.match_id}\">${(match.match_status === 'Postponed') ? 'postponed' : match.match_time}</span>`\n                listGameHTML += \n                    `<div class=\"match-item\" id=\"${match.match_id}\">\n                        <div class=\"home\" id=\"${match.match_id}\">\n                            <span class=\"${(match.match_hometeam_score > match.match_awayteam_score) ? 'winner' : '  '}\" id=\"${match.match_id}\">${match.match_hometeam_name}</span>\n                            <img src=\"${match.team_home_badge || 'assets/img/logo2.png'}\" alt=\"icon-team\" id=\"${match.match_id}\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                            <span class=\"score-home score\" id=\"${match.match_id}\">${(match.match_hometeam_score.length > 0) ? match.match_hometeam_score : '  '}</span> \n                        </div>\n                        <span class=\"vs\" id=\"${match.match_id}\">vs</span>\n                        <div class=\"away\" id=\"${match.match_id}\">\n                            <span class=\"away-home score\" id=\"${match.match_id}\">${(match.match_awayteam_score.length > 0) ? match.match_awayteam_score : '  '}</span>\n                            <img src=\"${match.team_away_badge || 'assets/img/logo2.png'}\" alt=\"icon-team\" id=\"${match.match_id}\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                            <span class=\"${(match.match_awayteam_score > match.match_hometeam_score) ? 'winner' : '  '}\" id=\"${match.match_id}\">${match.match_awayteam_name}</span>\n                        </div>\n                    </div>\n                </li>`;\n            }\n            `</ul>\n        </div>`\n    }\n    listGameHTML +=\n    `</div>`;\n    document.querySelector('.current-item').innerHTML = listGameHTML\n    document.querySelector('.nav-info .active').classList.remove('active')\n    document.querySelector('#'+idHTML).classList.add('active')\n    /* onclick match */\n    document.querySelector('.listMatch').addEventListener('click', (e) => {\n        let id = e.target.id\n        if(isNaN(id) || id === '') \n            return; // au cas ou tsy nombre\n        infoMatch(false, id)\n    })\n    return idHTML;\n};\n","export default (game, type) => {\n    let filterByDate = [],\n        listDate = [];\n    for (let element of game) {\n        // raha mbola tsy ao le date\n        if (!listDate.includes(element.match_date)) {\n            filterByDate.push({\n                date: element.match_date,\n                game: game.filter((g) => g.match_date === element.match_date), // ireo match amnio date io\n            });\n            listDate.push(element.match_date);\n        }\n    }\n    if (type === \"ASC\")\n        filterByDate.sort((a, b) => new Date(a.date) - new Date(b.date));\n    else {\n        filterByDate.sort((a, b) => new Date(b.date) - new Date(a.date));\n        let d = new Date();\n        // tsy raisina ny date androany \n        if(filterByDate[0].date === `${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()}`) {\n            filterByDate.shift()\n        }\n    }\n    return filterByDate;\n};\n","let apiKey = process.env.API_KEY;\nexport default async (idLeague) => {\n    return await new Promise((resolve, reject) => {\n        let url = `https://apiv3.apifootball.com/?action=get_topscorers&league_id=${idLeague}&APIkey=${apiKey}`;\n        fetch(url, {method : 'get'})\n        .then(response => response.json())\n        .then((value) => {\n            // console.log('get_topscorers');\n            // console.log(value);\n            resolve(value.error ? [] : value)\n        })\n    })\n}","export default (league) => {\n    let currentElement = document.querySelector('.current-element');\n    let infoLeague =\n    `<div class=\"info-league info\">\n        <div class=\"country-league\">\n            <div class=\"country\">\n                <img src=\"${league.country_logo}\" alt=\"icon-country\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                <span>${league.country_name}</span>\n            </div>\n            <div class=\"league\">\n                <img src=\"${league.league_logo}\" alt=\"icon-league\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                <div>\n                    <span class=\"name\">${league.league_name}</span>\n                    <span class=\"season\">${league.league_season}</span>\n                </div>\n            </div>\n        </div>\n        <ul class=\"nav-league nav-info\">\n            <li class=\"active\" id=\"standing\">Standing</li> \n            <li id=\"calendar\">Calendar</li>\n            <li id=\"result\">Results</li>\n            <li id=\"scorer\">Scorer</li> \n        </ul>\n        <div class=\"current-item\">\n            \n        </div>\n    </div>`;\n    currentElement.innerHTML = infoLeague;\n    let iconCalendar = document.querySelector('#icon-toggle-calendar')\n    if(iconCalendar) iconCalendar.style.visibility = 'hidden' \n}","export default (scorer) => {\n    let scorerHTML =\n    `<table class=\"standing-container top-scorer\">\n        <tr class=\"head-table\">\n            <td class=\"player-td\">Player</td>\n            <td class=\"team-player\">Team</td>\n            <td>Goals</td>\n            <td>Assists</td>\n            <td>Penalty </td>\n        </tr>`;\n    for(let player of scorer) {\n        scorerHTML += \n        `<tr class=\"item-container\">\n            <td class=\"player-td\">\n                <span class=\"number\">${player.player_place}</span>\n                <span class=\"name\">${player.player_name}</span>\n            </td>\n            <td class=\"team-player\">\n                <span class=\"name\">${player.team_name}</span>\n            </td>\n            <td>${player.goals} <span class=\"caption-td\">goals<span></td>\n            <td>${player.assists ? player.assists : 0} <span class=\"caption-td\">assists<span></td>\n            <td>${player.penalty_goals ? player.penalty_goals : 0} <span class=\"caption-td\">penalty<span></td>\n        </tr>`    \n    }\n    scorerHTML +=\n    `</table>`\n    document.querySelector('.current-item').innerHTML = scorerHTML\n    document.querySelector('.info-league .active').classList.remove('active')\n    document.querySelector('.info-league #scorer').classList.add('active')\n    return \"scorer\"\n}","import getStanding from \"../func/getStanding\";\nimport getScorer from \"../func/getScorer\";\nimport getMatch from \"../func/getMatch\";\nimport displayLeague from \"./displayLeague\";\nimport displayMatch from \"../func/displayMatchByDate\";\nimport displayScorer from \"./displayScorer\";\nimport { endSeason, startSeason } from \"../func/date\";\nimport displayStanding from \"../func/displayStanding\";\nimport { getLeagues } from \"../league/listLeague\";\nimport filterByDate from \"../func/filterByDate\";\nimport { loading, stopLoading } from \"../others/animation\";\nimport addHistory from \"../history/addHistory\";\nimport pageNotFound from \"../404\";\n\nlet intervalUpdate = undefined,\n    currentDisplay = undefined;\nexport default async (isPopState, idLeague) => {\n    window.scroll(0,0)\n    loading();\n    // addHistory (rehefa popstate de tsy mila mi-ajouter)\n    if (!isPopState) addHistory(`league/${idLeague}`);\n    idLeague = idLeague.slice(1); // asoriko ilay \"l\"\n    let calendar = [],\n        result = [],\n        standing = [],\n        scorer = [];\n    getScorer(idLeague).then((value) => (scorer = value));\n    getMatch(startSeason(), new Date(), idLeague).then((value) => {\n        result = filterByDate(value);\n    });\n    getMatch(new Date(), endSeason(), idLeague).then(\n        (value) => (calendar = filterByDate(value, \"ASC\"))\n    );\n    // getStanding league\n    standing = await getStanding(idLeague);\n    let league = getLeagues().filter((e) => e.league_id == idLeague);\n    if (league.length === 0)\n        // tsy misy io league io\n        return pageNotFound(\"league not found\");\n    league = league[0];\n    // afficher la ligue\n    displayLeague(league);\n    currentDisplay = displayStanding(standing);\n\n    /* event onclick */\n    document.querySelector(\".nav-league\").addEventListener(\"click\", (e) => {\n        let id = e.target.id;\n        if (id === \"result\") currentDisplay = displayMatch(result, \"result\");\n        else if (id === \"standing\") currentDisplay = displayStanding(standing);\n        else if (id === \"scorer\") currentDisplay = displayScorer(scorer);\n        else currentDisplay = displayMatch(calendar, \"calendar\");\n    });\n\n    // asorina ny league active raha misy\n    let activeLeague = document.querySelector('.list-league li.active');\n    if(activeLeague) activeLeague.classList.remove('active')\n    \n    stopLoading();\n    intervalUpdate = setInterval(async () => {\n        if (currentDisplay === \"calendar\") {\n            // affiche-na aloha sao taraiky le resultat teo aloha\n            currentDisplay = displayMatch(calendar, \"calendar\");\n            // maka vaovao\n            calendar = await getMatch(new Date(), endSeason(), idLeague);\n            calendar = filterByDate(calendar, \"ASC\");\n            // sao novainy tampoka nefa taraiky vao azo\n            if (currentDisplay === \"calendar\")\n                currentDisplay = displayMatch(calendar, \"calendar\");\n        } else if (currentDisplay === \"result\") {\n            // affiche-na aloha sao taraiky le resultat teo aloha\n            currentDisplay = displayMatch(result, \"result\");\n            // maka vaovao\n            result = await getMatch(startSeason(), new Date(), idLeague);\n            result = filterByDate(result);\n            // sao novainy tampoka nefa taraiky vao azo\n            if (currentDisplay === \"result\")\n                currentDisplay = displayMatch(result, \"result\");\n        }\n    }, 55000) // tous les une minute  (alatsako kely amle mbola alaina)\n};\n\nexport function clearIntervalInfoLeague() {\n    clearInterval(intervalUpdate)\n    currentDisplay = undefined\n}","import {getListCountry, getListLeague} from '../others/contryAndLeague'\nimport {getExceptionLeague, getPopularLeague} from '../others/popularAndException'\n\nlet APIkey = process.env.API_KEY;\nlet listContainer = document.querySelector('.list-league'),\n    url = `https://apiv3.apifootball.com/?action=get_leagues&APIkey=${APIkey}`,\n    listCountry = getListCountry(),\n    listLeague = getListLeague();\nlistCountry = listCountry.split(',');\nlistLeague = listLeague.split(',')\n\nlet list = [];\nexport default async () => {\n    fetch(url, {\n        method : 'get'\n    })\n        .then(response => response.json())\n        .then((value) => {\n            // izay ao anaty liste iany no raisina\n            list = value\n                    .filter(e => listCountry.includes(e.country_name) && listLeague.includes(e.league_name));\n            let leagueId = list.map(e => e.league_id)\n            // console.log('listleague');\n            // console.log(list);\n            // popular league and exception league\n            let popularLeague = getPopularLeague(leagueId),\n                exceptionLeague = getExceptionLeague(leagueId),\n                currentNumber = 1;\n            // console.log('popularLeague listleague');\n            // console.log(popularLeague);\n            // correct league logo\n            for(let element of exceptionLeague) {\n                list[element.index].league_logo = element.photo\n            }\n            // atao any amin farany ambony ireo ligue populaire\n            // omena numero voalohany ireo league popular\n            for(let element of popularLeague) {\n                list[element.index].number =  currentNumber\n                list[element.index].league_logo = element.photo\n                currentNumber++\n            }\n            // omena numero ireo league mbola tsy nahazo\n            for(let element of list) {\n                if(!element.number) {\n                    element.number =  currentNumber\n                    currentNumber++\n                }\n            }\n            // trier-na selon ny nom ana league aloha\n            list.sort((a,b) => a.league_name - b.league_name)\n            // trier-na selon ny numero anle league\n            list.sort((a,b) => a.number - b.number)\n\n            // display list league `<li class=\"list-item\" onclick=\"getLeagueMatch(${e.league_id})\">\n            let listItem = ``;\n            for(let e of list) {\n                listItem += \n                `<li class=\"list-item kk${e.league_id}\" id=\"${e.league_id}\" onclick=\"league.getLeagueMatch(${e.league_id}, this)\">\n                    <img src=\"${e.league_logo}\" alt=\"icon-league\" id=\"${e.league_id}\" onerror=\"this.src = 'assets/img/logo2.png'\">\n                    <span id=\"${e.league_id}\">${e.league_name}\n                        <span class=\"line-list\" id=\"${e.league_id}\"></span>\n                    </span>\n                </li>`;\n            }\n            listContainer.innerHTML = listItem\n        })\n        .catch(err => console.log(err))\n}\n\nexport function getLeagues() {\n    return list;\n}"],"names":[],"sourceRoot":""}