{"version":3,"file":"js/src_js_listMatch_listMatch_js.bundle.js","mappings":";;;;;;;;;;;;;;;;;AAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACO;AACP;AACA;AACA;AACA;;AAEA;AACO;AACP;AACA;AACA;AACA;;AAEA;AACO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;ACnCuE;AACtC;;AAEjC,aAAa,kEAAmB;AAChC,iBAAiB,sEAAa;AAC9B,kBAAkB,uEAAc;;AAEhC;AACA,iEAAe;AACf;AACA,uBAAuB,iDAAU;AACjC,qBAAqB,iDAAU;AAC/B;AACA;AACA,2EAA2E,SAAS,MAAM,OAAO,UAAU,OAAO;AAClH;AACA;AACA,8CAA8C,SAAS;AACvD;AACA,0CAA0C,OAAO;AACjD;AACA,qBAAqB,eAAe;AACpC;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,cAAc,EAAE,aAAa,iBAAiB,cAAc,EAAE,aAAa;AAC1H;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL,CAAC,EAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClCqC;AACA;AACuB;AACN;AACP;AACsC;AACzC;;AAE9C;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA,WAAW,sDAAU;AACrB;AACA;AACA,QAAQ,+DAAU,aAAa,KAAK,EAAE,+BAA+B;AACrE;AACA,qBAAqB,0DAAQ;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,6EAAgB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA,IAAI,+DAAW;AACf;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEO;AACP;AACA;AACA;AACA;;;AAGO;AACP;AACA,IAAI,0DAAO;AACX,IAAI,8DAAgB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS,wCAAwC,EAAE,kEAAc;AACjE,IAAI,uEAAkB;AACtB,IAAI,mEAAc;AAClB,IAAI,8DAAW;AACf;;AAEO;AACP;AACA,IAAI,0DAAO;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA,IAAI,8DAAgB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS,wCAAwC,EAAE,kEAAc;AACjE,IAAI,uEAAkB;AACtB,IAAI,mEAAc;AAClB,IAAI,8DAAW;AACf;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,IAAI,8DAAgB;AACpB;AACA;AACA;AACA;AACA;AACA,SAAS,wCAAwC,EAAE,kEAAc;AACjE,IAAI,uEAAkB;AACtB,IAAI,mEAAc;AAClB,IAAI,8DAAW;AACf;;;;;;;;;;;;;;;;;AChLO;AACP;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;;;;;;ACNO;AACP;AACA;AACA,SAAS,wEAAwE;AACjF,SAAS,oFAAoF;AAC7F,SAAS,4EAA4E;AACrF,SAAS,4EAA4E;AACrF,SAAS,6EAA6E;AACtF,SAAS,qEAAqE;AAC9E,SAAS,qEAAqE;AAC9E,SAAS,gFAAgF;AACzF,SAAS,4EAA4E;AACrF;AACA;;AAEO;AACP;AACA,SAAS,iEAAiE;AAC1E,SAAS,iEAAiE;AAC1E,SAAS,+DAA+D;AACxE,SAAS,6EAA6E;AACtF,SAAS,8DAA8D;AACvE,SAAS,0EAA0E;AACnF,SAAS,2FAA2F;AACpG,SAAS,oEAAoE;AAC7E,SAAS,sFAAsF;AAC/F,SAAS;AACT;AACA;;AAEO;AACP;AACA,SAAS,gCAAgC;AACzC,SAAS,+BAA+B;AACxC,SAAS,+BAA+B;AACxC,SAAS,+BAA+B;AACxC,SAAS,+BAA+B;AACxC,SAAS,+BAA+B;AACxC,SAAS,gCAAgC;AACzC;AACA;;AAEO;AACP;AACA,SAAS,kEAAkE;AAC3E,SAAS,8DAA8D;AACvE;AACA","sources":["webpack://Football score/./src/js/func/date.js","webpack://Football score/./src/js/func/getMatch.js","webpack://Football score/./src/js/listMatch/listMatch.js","webpack://Football score/./src/js/others/contryAndLeague.js","webpack://Football score/./src/js/others/popularAndException.js"],"sourcesContent":["export function toYYYYMMDD(date) {\n    let d = new Date(date),\n        year = d.getFullYear(),\n        month = d.getMonth() + 1,\n        day = d.getDate();\n    return year + \"-\" + month + \"-\" + day;\n}\n/* ampiana 15 jours */\nexport function plus15(date = new Date()) {\n    let d = new Date(date),\n        dateEnd = new Date(d.getFullYear(), d.getMonth(), d.getDate()+15);\n    return dateEnd.getFullYear() + '-' + (dateEnd.getMonth()+1) + '-' + dateEnd.getDate()\n}\n\n/* anasorana 15 jous */\nexport function minus15(date = new Date()) {\n    let d = new Date(date),\n        dateFirst = new Date(d.getFullYear(), d.getMonth(), d.getDate()-15);\n    return dateFirst.getFullYear() + '-' + (dateFirst.getMonth()+1) + '-' + dateFirst.getDate()\n}\n\n/* start season */\nexport function startSeason(date = new Date()) {\n    let d = new Date(date);\n    if((d.getMonth()+1) >= 8) \n        return d.getFullYear() + '-08-01'\n    return (d.getFullYear()-1) + '-08-01' // supposition oe mois d'aout ny debut\n}\n\n/* start season */\nexport function endSeason(date = new Date()) {\n    let d = new Date(date);\n    if((d.getMonth()+1) >= 8) // (mois d'aout ny debut)\n        return (d.getFullYear()+1) + '-07-01'\n    return (d.getFullYear()) + '-07-01' // supposition oe mois de juillet ny fin\n}\n","import {getListCountry, getListLeague} from '../others/contryAndLeague'\nimport {toYYYYMMDD} from './date'\n\nlet APIkey = process.env.API_KEY;\nlet listLeague = getListLeague(),\n    listCountry = getListCountry();\n\n// raha tsy mahazo valeur le \"to\" de atao mitovy amin \"from\"\nexport default async (from, to = from, idLeague = 0, idTeam = 0) => {\n    return await new Promise((resolve, reject) => {\n        let fromDate = toYYYYMMDD(from),\n            toDate = toYYYYMMDD(to);\n        // console.log(\"from-to\");\n        // console.log(fromDate+'-'+toDate);\n        let url = `https://apiv3.apifootball.com/?action=get_events&from=${fromDate}&to=${toDate}&APIkey=${APIkey}&timezone=Africa/Nairobi`;\n        \n        // au cas ou idLeague est donne\n        if(idLeague > 0) url += `&league_id=${idLeague}`\n        // au cas ou idLeague est donne\n        if(idTeam > 0) url += `&team_id=${idTeam}`\n        // console.log(url);\n        fetch(url, { method: \"get\" })\n            .then((response) => response.json())\n            .then((value) => {\n                if(value.error) return resolve([])\n                // ireo anaty liste iany no alaina\n                let list = value.filter(e => listCountry.includes(e.country_name) && listLeague.includes(e.league_name));\n                // trier selon l'heure du match\n                list.sort((a,b) => new Date(`${a.match_date} ${a.match_time}`) - new Date(`${b.match_date} ${b.match_time}`))\n                // console.log(list);\n                resolve(list)\n            })\n            .catch(err => console.log(err))\n    });\n};\n","import getMatch from '../func/getMatch'\nimport {toYYYYMMDD} from '../func/date'\nimport {getPopularLeague} from '../others/popularAndException'\nimport {loading, stopLoading} from '../others/animation'\nimport displayListMatch from './displayListMatch'\nimport {deleteCurrentMonth, createCalendar, getCurrentDate} from '../calendar/calendar'\nimport addHistory from '../history/addHistory'\n\nlet gamePerLeague = [],\n    activeInNavBar = document.querySelector('.navbar-match .nav-list li.active'),\n    currentItem = listMatchToday, // ilaina amle update-na score\n    interval = undefined,\n    isUpdate = false;\n\nexport async function listMatch(isPopState=false, date, idLeague, toDisplay) {\n    gamePerLeague = [];\n    date = toYYYYMMDD(date)\n    // add history (rehefa popstate de tsy mila mi-ajouter)\n    if(!isPopState)\n        addHistory(`listgame/${date}${idLeague ? ('&'+idLeague) : ''}`)\n    // getMatch\n    let list = await getMatch(date, date, idLeague),\n        leagueId = [],\n        countryId = [];\n    // au cas ou idLeague est donne\n    if(idLeague > 0) {\n        // active league (raha sendra ery amin url no novaina ny id no tena mahatonga azy ovaina eto)\n        let activeLeague = document.querySelector('.list-league li.active');\n        if(activeLeague) activeLeague.classList.remove('active')\n        document.querySelector('.kk'+idLeague).classList.add('active') // nasiako \"kk\" de mora azo\n    }\n    // console.log('list match');\n    // console.log(list);\n    // filter by country and league\n    // sady alaina ny liste ana leagueId (tsy azo asiana miverina) ary tonga dia alaina ny match \n    for(let e of list) {\n        if(!leagueId.includes(e.league_id)) {  // raha mbola tsy ao\n            gamePerLeague.push({\n                number : undefined,\n                id : e.league_id,\n                countryName : e.country_name,\n                leagueName : e.league_name,\n                logoCountry : e.country_logo || e.league_logo,\n                game : list.filter(g => g.league_id === e.league_id)\n            })\n            leagueId.push(e.league_id)\n            countryId.push(e.country_id)\n        }\n            \n    }\n    \n    let popularLeague = getPopularLeague(leagueId);\n    let currentNumber = 1;\n    // asorina izay tsy hita ao anaty tableau ny indice-ny, zany oe tsy misy match\n    // omena numero voalohany ireo popular league mba anamorana ny ampisehoana azy voalohany\n    popularLeague = popularLeague.filter(e => e.index >= 0)\n    for(let element of popularLeague) {\n        gamePerLeague[element.index].number = currentNumber;\n        currentNumber++;\n    }\n    // omena numero ireo mbola tsy nahazo\n    for(let element of gamePerLeague) {\n        if(element.number === undefined){\n            element.number = currentNumber;\n            currentNumber++\n        }\n    }\n    // correct logo country\n    if(countryId.includes('2'))\n        gamePerLeague[countryId.indexOf('2')].logoCountry = 'assets/img/intl.png'\n    // correct ldc and uel logo\n    if(leagueId.includes('4'))\n        gamePerLeague[leagueId.indexOf('4')].logoCountry = 'assets/img/uel.png'\n    if(leagueId.includes('3'))\n        gamePerLeague[leagueId.indexOf('3')].logoCountry = 'assets/img/ldc.png'\n\n    // trier-na selon an'ny numero any\n    gamePerLeague.sort((a,b) => a.number - b.number)\n    // console.log('gamePerLeague');\n    // console.log(gamePerLeague);\n    // affiche-na ny match androany na ireo live na ireo match vita\n    if(toDisplay) { // raha misy no specifie-na\n        currentItem = toDisplay\n    } \n    currentItem()\n    stopLoading()\n    // rehefa mandeha ny a jour de tsy atao intsony\n    if(isUpdate) return\n\n    interval = setInterval(() => {\n        // console.log('update listMatch');\n        isUpdate = true\n        // listMatch(true, date, idLeague)\n    }, 55000) // tous les une minutes  (alatsako kely amle mbola alaina)\n}\n\nexport function clearIntervalListMatch() {\n    clearInterval(interval)\n    isUpdate = false\n    currentItem = listMatchToday\n}\n\n\nexport function listMatchToday() {\n    currentItem = listMatchToday;\n    loading()\n    displayListMatch(gamePerLeague)\n    activeInNavBar = document.querySelector('.match-container .nav-list li.active')\n    activeInNavBar.classList.remove('active')\n    activeInNavBar = document.querySelector('.match-today');\n    activeInNavBar.classList.add('active')\n    // re-creer le calendrier (eviter queqlue erreur)\n    let {currentYear, currentMonth, currentDate} = getCurrentDate()\n    deleteCurrentMonth()\n    createCalendar(currentMonth, currentYear, currentDate);\n    stopLoading()\n}\n\nexport async function listMatchLive() {\n    currentItem = listMatchLive;\n    loading()\n    // recuperena ireo match en live\n    let gameLive = [];\n    for(let e of gamePerLeague) {\n        gameLive.push({\n            countryName : e.countryName,\n            leagueName : e.leagueName,\n            logoCountry : e.logoCountry,\n            game : e.game.filter(i => i.match_live === \"1\") // recuperena ireo match en live\n        })\n    }\n    // asorina ireo tsy misy match\n    gameLive = gameLive.filter(e => e.game.length > 0)\n    // console.log('game live');\n    // console.log(gameLive);\n    displayListMatch(gameLive)\n    activeInNavBar = document.querySelector('.match-container .nav-list li.active')\n    activeInNavBar.classList.remove('active')\n    activeInNavBar = document.querySelector('.match-live');\n    activeInNavBar.classList.add('active')\n    // re-creer le calendrier (eviter queqlue erreur)\n    let {currentYear, currentMonth, currentDate} = getCurrentDate()\n    deleteCurrentMonth()\n    createCalendar(currentMonth, currentYear, currentDate);\n    stopLoading()\n}\n\nexport function listMatchFinished() {\n    currentItem = listMatchFinished;\n    // recuperena ireo match efa tapitra\n    let initialGame = gamePerLeague,\n        gameFinished = [];\n    gameFinished = initialGame\n        .map(e => {\n            return {\n                countryName : e.countryName,\n                leagueName : e.leagueName,\n                logoCountry : e.logoCountry,\n                game : e.game\n                    .filter(i => (i.match_live === \"0\") && ((i.match_hometeam_score.length > 0) || (i.match_awayteam_score.length > 0)))\n            }\n        })\n    // asorina ireo tsy misy match\n    gameFinished = gameFinished.filter(e => e.game.length > 0)\n    // console.log('gameFinished');\n    // console.log(gameFinished);\n    displayListMatch(gameFinished)\n    activeInNavBar = document.querySelector('.match-container .nav-list li.active')\n    activeInNavBar.classList.remove('active')\n    activeInNavBar = document.querySelector('.match-finished');\n    activeInNavBar.classList.add('active')\n    // re-creer le calendrier (eviter queqlue erreur)\n    let {currentYear, currentMonth, currentDate} = getCurrentDate()\n    deleteCurrentMonth()\n    createCalendar(currentMonth, currentYear, currentDate);\n    stopLoading()\n}\n","export function getListCountry() {\n    return \"England,Belgium,Germany,Croatia,Spain,Czech Republic,France,Romania,Bulgaria,Italy,intl,eurocups,South Africa,Qatar,Worldcup,USA,Denmark,Norway,Sweden,Korea Republic,Netherlands,Mexico,Argentina,Portugal,Russia,Brazil,Switzerland,Brazil,Morocco\"\n};\n\nexport function getListLeague() {\n    return \"Championship,Community Shield,FA Cup,League Cup,League One,Premier League,EFL Trophy,National League,Women's Championship,Copa del Rey,La Liga,Segunda División,Super Cup,Primera División Femenina,Primera División RFEF,DFB Pokal,Regionalliga,Super Cup,2. Bundesliga,Bundesliga,Ligue 1,Ligue 2,Coupe de la Ligue,Feminine Division 1,National 1,Trophée des Champions,Coupe de France,Serie A,Serie B,Super Cup,Coppa Italia,First Division A,Challenger Pro League,First NL,Czech Liga,Liga I,First League,CAF Super Cup,Club Friendlies,COSAFA Cup,Friendlies,UEFA U21 Championship,Africa Cup of Nations,CAF Champions League,CAF Confederation Cup,UEFA Champions League,UEFA Champions League - Group Stage,UEFA Europa League,UEFA Europa League - Group Stage,UEFA Youth League,UEFA Youth League - Group Stage,PSL,QSL Cup,World Cup,MLS,Superliga,1. Division,Damallsvenskan,K League 1,Eredivisie,Eerste Divisie,Liga MX,Liga Profesional Argentina,Primeira Liga,Premier League,Serie A,Super League,Botola Pro,Premier League\";\n}","export function getPopularLeague(leagueId) {\n    // index : index anle ligue ao anatinle tableau\n    return [\n        {index : leagueId.indexOf('152'), id : 152 , photo : 'assets/img/pl.jpg'}, // PL\n        {index : leagueId.indexOf('175'), id : 175 , photo : 'assets/img/Bundesliga.svg.png'}, // bundesliga\n        {index : leagueId.indexOf('302'), id : 302 , photo : 'assets/img/laliga.png'}, // la liga\n        {index : leagueId.indexOf('168'), id : 168 , photo : 'assets/img/ligue1.png'}, // ligue 1\n        {index : leagueId.indexOf('207'), id : 207 , photo : 'assets/img/serie a.svg'}, // serie a\n        {index : leagueId.indexOf('3'), id : 3 , photo : 'assets/img/ldc.png'}, // ldc\n        {index : leagueId.indexOf('4'), id : 4 , photo : 'assets/img/uel.png'}, // europa league\n        {index : leagueId.indexOf('244'), id : 244 , photo : 'assets/img/eredivisie.png'}, // eredivisie\n        {index : leagueId.indexOf('28'), id : 28 , photo : 'assets/img/worldcup.jpg'}, //  world cup\n    ]\n}\n\nexport function getExceptionLeague(leagueId) {\n    return [\n        {index : leagueId.indexOf('301'), photo : 'assets/img/laliga.png'}, \n        {index : leagueId.indexOf('688'), photo : 'assets/img/cosafa.png'}, \n        {index : leagueId.indexOf('365'), photo : 'assets/img/psl.jpeg'}, \n        {index : leagueId.indexOf('579'), photo : 'assets/img/PrimeiraLigaBrasil.png'}, \n        {index : leagueId.indexOf('647'), photo : 'assets/img/qsl.png'}, \n        {index : leagueId.indexOf('412'), photo : 'assets/img/supercoupnorway.png'}, \n        {index : leagueId.indexOf('380'), photo : 'assets/img/Czech_Republic_Football_Supercup.jpg'}, \n        {index : leagueId.indexOf('268'), photo : 'assets/img/supertaca.jpg'}, \n        {index : leagueId.indexOf('574'), photo : 'assets/img/belgium-super-league-women.webp'}, \n        {index : leagueId.indexOf('652'), photo : \"assets/img/FA_Women's_Championship.png\"}\n    ]\n}\n\nexport function getPopularCountry(countryId) {\n    return [\n        {index : countryId.indexOf('44')}, // angleterre\n        {index : countryId.indexOf('4')}, // allemagne\n        {index : countryId.indexOf('6')}, // espagne\n        {index : countryId.indexOf('3')}, // france\n        {index : countryId.indexOf('5')}, // italy\n        {index : countryId.indexOf('1')}, // ldc, uel\n        {index : countryId.indexOf('8')} // world cup\n    ]\n}\n\nexport function getExceptionCountry(countryId) {\n    return [\n        {index : countryId.indexOf('44'), photo : 'assets/img/england.png'}, // angleterre\n        {index : countryId.indexOf('2'), photo : 'assets/img/intl.png'}, // intl\n    ]\n}"],"names":[],"sourceRoot":""}